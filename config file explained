server {
    host 127.0.0.1; // HOST NEED TO BE THE IP ADDRESS TO CONNECT TO THE SERVER.
	listen 8080; // LISTEN IS THE PORT THAT THE SERVER WILL LISTEN TO.
	server_name example.com; // SERVER NAME CAN BE USED WITH CURL --RESOLVE; IT WILL BE COMPARED WITH THE HOST LINE OF THE REQUEST IF THE IP AND PORT MATCH THIS SERVER;
    client_max_body_size 50000000; // THIS IS THE MAX SIZE FOR THE BODY OF A POST REQUEST, FOR EXAMPLE, AN IMAGE;
	error_page 404 /../DefaultError/501.html; // THE PATH IN ERROR PAGES CAN START WITH OR WITHOUT '/'. THE PATH FOR THE ERROR PAGE MUST BE RELATIVE TO THE ROOT LOCATION
    // BUT NOT NECESSARY A PAGE ALLOWED IN THE SERVER, COULD BE ANY PAGE EXISTING IN THE COMPUTER;

    location /js {
        allow GET POST; // THE SAME METHOD CAN BE ON AN ALLOW OR DENY LINE ON THE SAME LOCATION. THE LAST DECLARATION IS USED. SO IF YOU PUT 'ALLOW GET' AND IN THE NEXT LINE 'DENY GET', GET WILL BE DENIED.
        // IF ONE OF THE METHODS IS NOT ALLOWED INSIDE THE LOCATION, THE SERVER WILL SEARCH FOR THE PREVIOUS LOCATION TO SEE IF THE METHOD IS ALLOWED OR DENIED;

    }

    location /images {
        allow GET POST; 
        index ../../DefaultError/500.html; // VERY IMPORTANT. THE ROOT LOCATION FOR THIS LOCATION IN THIS EXAMPLE IS THE ROOT FROM '/' LOCATION PLUS THE 
        // LOCATIONS NAME '/images' SO THE INDEX PATH NEED TO BE CONSIDERED THAT YOU ARE IN '/guarder-html/images/'.
        // IF YOU USE ROOT INSIDE THE LOCATION TO CHANGE THE FOLDER'S LOCATION, YOU ALSO NEED TO CONSIDER THIS TO CHOOSE INDEX LOCATION.
        // YOU CAN ALSO USE THE INDEX PATH WITH OR WITHOUT '/' IN THE BEGGINING.
        // INDEX CAN HAVE A RELATIVE PATH TO ANY PAGE INSIDE THE PC.
        autoindex on; // AUTOINDEX WILL MAKE THE FOLDERS AND ONLY FOLDER TO SHOW A LIST WITH ALL THE FOLDER'S CONTENT. 'FOLDER LISTING';
        // INDEX PAGES HAVE PREFERENCE ON AUTOINDEX, SO IF YOU HAVE AUTOINDEX ON TO SHOW THE 'FOLDER LISTING' BUT YOU ALSO HAVE INDEX PAGE FOR THE FOLDER
        // THE PAGE WILL BE SEND AND 'FOLDER LISTING' NOT DISPLAYED;
    }

    location /cgi-bin {
        allow GET POST DELETE; 
        cgi .py; // THIS IS THE CGI AND THE '.py' IT IS THE EXTENSION FOR THE CGI'S SCRIPT;
    }

    location / {
        root /guarder-html; // ROOT CAN BE USED IN ANY LOCATION TO SET THE FOLDER'S PATH BUT DIFFERENT FROM THE INDEX PATH, THE ROOT IS THE EXACLY PATH TO FIND
        // THE FOLDER'S PATH. CAN BE USED WITH RELATIVE OR ABSOLUTE PATH.

        // EMPTY LINES ARE NOT A PROBLEM AND THE PROGRAM WILL JUST IGNORE IT;
        index /index.html;
        allow GET;
    }

    location /css {
        allow GET;
        return /403.html; // RETURN HAVE PRIORITY ON EVERY OTHER RULE AND THE RETURN PATH WORKS AS LOCATIONS WORK SO YOU NEED TO RETURN A PAGE OR FOLDER INSIDE.
        // THE SERVER THAT IS ALLOWED TO GET BECAUSE RETURN WILL RETURN A PATH TO MAKE A NEW REQUEST WITH THE PATH.
        // WHEN YOU TRY TO REACH THE LOCATION RETURN WILL RETURN THE PAGE THAT YOU WANT;
    }

    location /cgi-bin/uploads { // THE LOCATION NEED TO HAVE THE FULL PATH THAT WILL BE USED FOR THE CLIENT TO REACH THE FOLDER OR PAGE EVEN IF THE PREVIOUS LOCATION
        // ALREADY IS LISTED AMOUNG THE LOCATIONS;
        allow GET POST;
        root /guarder-html/cgi-bin/uploads;
        autoindex on;
        deny DELETE;
    }
}